<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>ToDoリスト確認</title>
</head>

<body>
    <h1>[[${m.name}]]のToDo</h1>
    <h2>ToDo</h2>
    <table border="1">
        <tr>
            <th>seq</th>
            <th>title</th>
            <th>createdAt</th>
            <th>コマンド</th>
        </tr>
        <tr th:each="tl: ${todolist}">
            <td>[[${tl.seq}]]</td>
            <td>[[${tl.title}]]</td>
            <td>[[${tl.createdAt}]]</td>
            <td><a th:href=@{/member/{m}/makedone/{s}(m=${mid},s=${tl.seq})}>Done</a></td>
        </tr>
    </table>

    <h2>Done</h2>
    <table border="1">
        <tr>
            <th>seq</th>
            <th>title</th>
            <th>donedAt</th>
        </tr>
        <tr th:each="dl: ${donelist}">
            <td>[[${dl.seq}]]</td>
            <td>[[${dl.title}]]</td>
            <td>[[${dl.doneAt}]]</td>
        </tr>
    </table>
    <h2>登録</h2>
    <form role="form" th:action="@{/member/{m}/todocheck(m=${mid})}" th:object="${ToDoForm}" method="post">
        <tr>
            <td><label>ToDo:</label></td>
            <td><input type="text" required th:field="*{title}" /></td>
        </tr>
        <p><input type="submit" value="登録"></p>
    </form>
    <h2>みんなのTODO</h2>
    <a th:href=@{/member/alllist}>みんなのToDoを確認する</a>
</body>